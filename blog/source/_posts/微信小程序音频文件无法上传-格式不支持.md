---
title: 微信小程序音频文件无法上传/格式不支持
date: 2019-09-09 03:06:34
categories: [前端]
tags: [微信开发, 微信小程序]
---
上传微信小程序的录音文件到后端时，可能提示文件格式不支持，原因是使用小程序录音后生成的文件实际MIME类型需添加到后端。<!--more-->

以下以`PHP`为例：

## 微信开发者工具
```php
'aac' => array('video/webm'),
'mp4' => array('video/webm'),
```

## Android
```php
'm4a' => array('video/mp4'),
```

## iOS
```php
'm4a' => array('audio/x-m4a'),
```

所以，后端判断是否支持上传特定类型文件时，应支持实际MIME类型如下的文件：
```php
'm4a' => array('audio/x-m4a', 'video/mp4'),
'aac' => array('video/webm'),
'mp4' => array('video/webm'),
```
